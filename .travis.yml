language: java
sudo: required
dist: xenial
jdk:
- openjdk8
services:
- docker
addons:
  apt:
    packages:
    - pass
git:
  depth: 250
install: "./installViaTravis.sh"
script: "./buildViaTravis.sh"
before_install: "./beforeInstall.sh"
env:
  global:
  - secure: hci9uZj7SnQZyoLAmboe3lnAMM3Fd9uKMMsr2DmywuddKGg9MRgxuAGWIGpWD7K1mXUdXUSTv3wgSXe91bOb383QbMnbvsFrvMHe708CtEK2p0KqiPo2epMD3aR9OPBY5zTSQgUJJzEi6pRmhUtr15PRwvZvyXCCAG3dy2i5aNZ82oUzw7frcrce4XKPK5cOzYcNG0VzIAu24PZTghxLJPlIz9K4Vtm1OUvTp/K0zaA6isQiOlB/nNj4H1GUr2CV0rNWyauCsrrwaAEm58LSnPLtve5tgwmIsMKAV/geNY5NI5gFGd/sayUsutZ4FcvPP5h+A/WxqECtZbnSGRFQ3aSCybz+zf0hrcI8JL51hLqGrtWQgVfmluMMFxmeNLAAQRwgSG0aeXH85Fs98VuJe4GNYsMGHsG+CFur84MjiHuN8NDbEwwQcYpTPSUyaYcuOgdF8+12f5a6fiz+i/j8IYQsbC7txvGmlGlfwOT9IncqKcIPqy79KBzjCC23OS/03yjJRFrqqfkmx1bmr4sKUy8e8hMrYM5OBCYLRvZWjtIRBGLQlegIShaLq3DfiK7uAe7Pq53l41WRClb/6vv/XWxwu3YC0b0LfDJrIqQ0tYOaJn692EAMx1bqgOFmX9YN8na1oc1XsIKwkuEMpnztJmzrLVvWrgfsk2ZUYGghFo0=
  - secure: z2OC2G2Sudkl4xrhW+SJ7R2COJ39XMuqbkHz8NcxiztXB3ouhJY5/1iP61YKAzGugAV9n9XJjRX8d6LU/L1Oy27GQOhnrM0Og9y/sqqdV96V3LQXEzgmDOllYS9+MYHBXEtk3yE3Y/UXdOyPUCnHnK4WS3BJM7HU9g8NLq125ej5cZFMon3YGbeMDyKzXxWN/sPdfURH47Ix+FyK1mozvn+fu4mdBZK4HYGdlQdaS+jWDnK/JioCbEfIH/2pJoNHHjRqbtiqnPcx0kM2iv1A5uJt/gW6Y5vEFSDaOVLEENSYUXbHvBDOGk6/1bxLcrm4njcB3vvNE8OPX/NW8jwAgYVY1gfYa88bpXg2T77DIOsQIlRv0htt/MnoaOA0oieYXELcQU+hfAF8+xu/FnDK0dx2ebV9gwROm/Z8spkRGp4Dj3rBWeHKJkMaxIG5SMdmdno+/VpeqqZyrDT53HL/fL8E+cKplZk7pONt8xB48NqtDs2IHFw5+AgOWvZHspUNqNQBkLPAlLPt5h43zIMi+Y+Fu+EToDenCkLajs68jBD+yOsTCn09gUVY6pv8exGP4V1+lGwZi9z5NGmMf/0NXkwbQ6GlJv7d9V8O7zUYxnIYsi5TqKqhIdlXqydRALLMRnAgQj04TK7dLfxn2J8k83QhX2rT4EHba+Y1jA4BP8c=
  - secure: qcuVQVYt3LRtk2G/IXdU54r75vW27yEnxEu1kyWwnIfErNhPy0c54fZx946TSONNOj/uzHcTlb+h+GktIMQPMZoA5RLwEfkpzmBbXwjmKfR/ftohNQ5JrGKQaw019pp1G+iL2tIpU97eL13b06R/xK4xgr/Dkw2DUKmKbTzr/NfKBFrx8JyYv38pMqDbwoNcTdr2Mj0J0GoaBtlpm1+Z8O7MtSl21K0b7BsHtJ+E5cDG+qyFfr4XLX4r95Xtbgd90aaqyXprgLGz01jQclT51gqEMvYL1oXR6nyQ7zCGGD3OALXoJrT0rNI2UsYNMy1apxIqAyAFA5gIJkjf0zaQhD+DkuBf3U2oVW2/SIxTRfdOGYzdMhXkObzO7Jfw5iuS/1/kjH3NceATLJhm/hz1xiwpQAViacdTMaQ6GK0FRp/u23hPE+7iw9wFR4QyITNbOw21lDg5GzJmRReMa8ivfFjCbRpydEz98uBrGdgOlef694oOnwulWvwwXyDHPlEg7qV7jAkuK1CbGyWOIbmSZkkQ0chkMmkKC/FhxjPUMRuLlhUp8jA7AIn9dXQKL6qwQfFnImae96cTy1jLK9SZaAjorqvMVpFcVc4LY5vZ98K6Rx72b/Cucp2Gz9YQvNApLBnsNZ7jlD7Jj7YWEcf+JINX7sOlcM3il5dFHMQkmu0=
  - secure: V4adoWQHQQ5qv6PowecuKGY+wD0Gqj+rUJCkJMdSTD4yZkLOEvabDMRzuEerBZj/eZz29qEhEONNjFa/2W7SFYJq69IrsUCL9U69ErVpNcFSkxuWDTVOLUbI1eX1D+s0Z7uKeLv+wgyhAPM2NGyU+IJ1fs5tKJqRfWIu3gljgjwUfW9Wsytqc9Fmianz+2+yLDVK+mwW1AfZo7iIBHotJxPSDEQSkxWKFzCc7wr3+aROTn29xeBRpUf8ibfFknGTcCISHvmp+2kOcL5S8gPlgN/pc14t6XdPRyKPZdAec+7pAJPQKvXapVWA5n9c3VIbqU030vUsZ1N0lRnRuBrTaVvm/035haBBOynTJH4Uyr42FIL+EFYYtWgVu/R0xeCB+iMdICiQIi4O+LzJaOaYiG4uP3MowZAK1PGC9QQFMcCCnfWe4mG8pMSEqujoSIoIYcB74BsYTEshsNUJI3RGUcAK/oi0N3cVrrmoEHtcHLihYlwrAjQ2shlNh8gEPTYlDMcWyMmeRFuoIX4voA+jryk81L941DRP2qNGKt3aJwLTTfRKpadwYjDAwlMVWCC1lVfRf+OnohXHX2mJMWwLuXNZ35Vf1NE0FGZ0pmYnUD9VOV2dzJ7x3eP1w+FlRDveOH38nChF2xxjgANHQNQ6RwKoThKc/0L0OvBkKjLPmnE=
  - secure: d/jDEYEiYk0DI7+2FcvjOTGtiNI5cRelKGgXUW3Ri/jPdGIIE1pJ/kZg+CUBySxu1SisTmfBaTFPzfFu9wIy5dqFS1jNu+OblC3/3SX0tWpEYZkJ3x8W78IS9NrxoKqc5ja7wBWx9SeCHGcwHgUTbtc/y8S0bGtS3OMVUhC0wAeSRwHdGwB7fkycHymrN0kA8bs7r+hOh1axjaPAv1N5y0ID6E/dEg4IpBAMBlOYgDNTbuxOqcfgTXWrhu/fiy2R4YgJGsNI2l+XIBOoQst3sJbjF1Dj3612Jf+2a9smK+gfzHiFS5iQigMo1OQz0eFfaSe7VR3rM2vfAzBaI20A5koJwCqJ73n9mWLLl6Xbxt84svyGpCUsDRuZgp40Kl6WvrUrgajrSuHqeEMEh/cMXF6opuEVYKDSXaZlhEqS/q6k22qWDXM72bxt3PeYrPbbHHHEXMxqD56S5EbPgqFoeXBYY+JBou0z5HZiLMEQz0NUgr9gXvq6TsHEFN836JjddCPdXFLL25lOIFJ8aj4qLSP0FKlwr8hl/P77nsyenCU6E2B8sq8PXJtjXn0hb7sfReft0uNhqtMkEShr/I8s+WTt6yo9/Qz8dNqJUT8JNPwxXkmM24OjlEmTozjNVI6QdaO4yiOuIxIlOhzMctMG23uJqPJxZnk51uQ2VatFxK8=
  - secure: 3vA9qomga97NWrECxII8Yys5kTDFLUJKlDYIZdCgjHPhGNpbDd6RKgxHipNB3s1kD1kCjguBCzrIfX9yvdGWQBHpNPG8zFmoW4E7Vo6PAWrw0oA2wF8nJmVP/p/2kDsQaderdlj1iGQD/NlNAnCuOtQ+/U5SjAMHXrzTt1KqKJ1kKPbzkQX2mVv2Uqw8aMdjKNaoD1i9KXPXaYLs3I5qhAk4eLv8PUiOZuQFwXC6tpuRaU/0VXtgJhStpQtw5ipR6UkBxXRSn9QT74G/iFnHcQbim+7nVoZ60OzhZmRIHoYIsTGiqtzN12WlPtoftTa2SF01+kmCSOeOdmjbv9rhv8QguftxiRF5Ql8jA1u/fXa2M4hufSPA4xIvYMDgpRQbbB2lcnfUh5TTrAY901+QocUEOynaY26y9ATqB51X8gPO88TiM8/I+ZnT/hAp/PHrVyiHGFim0LUbrBw8ZSO1dXdaLyeRtcJ/TlYvS65PYNYdthG8aCDOxo/YR6L06xPbA7iC1l4zWQVV0i4dvGi3xgtXLYrFCW0g+bKkvdD12NFT1R7lonmkbi72KHmi+efWEZd6/eOAQkzvMRPQFliiq6BlIq2Iryx+FMK0d1mFKBe/WyGpy7+hjUex9tECmaLt3FoUFUMN9QA6i9TCUFEICV4yj5Z6wTTDL3ikImU9D+I=
cache:
  directories:
  - "$HOME/.gradle"
after_failure:
- name=$(date +"%Y-%m-%d") && cat ./metacat-functional-tests/build/logs/metacat/catalina.$name.log
- name=$(date +"%Y-%m-%d") && cat ./metacat-functional-tests/build/logs/metacat/localhost.$name.log
- cat ./metacat-functional-tests/build/logs/metacat/spring.log
